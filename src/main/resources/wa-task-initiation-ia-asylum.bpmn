<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_0krfa3s" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.2.0">
  <bpmn:message id="Message_1pi3bbk" name="createTaskMessage" />
  <bpmn:process id="wa-task-initiation-ia-asylum" name="Create User Task" isExecutable="true">
    <bpmn:endEvent id="userTaskCompleted" name="User task completed">
      <bpmn:incoming>Flow_1t5gjw4</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="processTask" name="${name}" camunda:formKey="${taskId}" camunda:candidateGroups="${group}" camunda:dueDate="${dueDate != null ? dueDate : &#39;P2D&#39;}">
      <bpmn:incoming>Flow_0mvvsq2</bpmn:incoming>
      <bpmn:outgoing>Flow_1t5gjw4</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1t5gjw4" sourceRef="processTask" targetRef="userTaskCompleted" />
    <bpmn:startEvent id="createTaskMessage" name="Create User task message received">
      <bpmn:outgoing>Flow_1ex1957</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_153v0nn" messageRef="Message_08deb9v" />
    </bpmn:startEvent>
    <bpmn:subProcess id="cancelSubProcess" triggeredByEvent="true">
      <bpmn:startEvent id="cancelTasks" name="Cancel Process">
        <bpmn:outgoing>Flow_0fy4joa</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0vxc2ge" messageRef="Message_1k0m2ip" />
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0fy4joa" sourceRef="cancelTasks" targetRef="cancelledTasksCompleted" />
      <bpmn:endEvent id="cancelledTasksCompleted">
        <bpmn:incoming>Flow_0fy4joa</bpmn:incoming>
      </bpmn:endEvent>
    </bpmn:subProcess>
    <bpmn:boundaryEvent id="Event_0pjf0p1" attachedToRef="processTask">
      <bpmn:outgoing>Flow_000q9nr</bpmn:outgoing>
      <bpmn:escalationEventDefinition id="EscalationEventDefinition_0wsk9z8" camunda:escalationCodeVariable="wa-esc-cancellation" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_000q9nr" sourceRef="Event_0pjf0p1" targetRef="userTaskTerminated" />
    <bpmn:endEvent id="userTaskTerminated" name="User task terminated">
      <bpmn:incoming>Flow_000q9nr</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_0sajioj" />
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_0mvvsq2" sourceRef="processStartTimer" targetRef="processTask" />
    <bpmn:intermediateCatchEvent id="processStartTimer" name="Process start timer">
      <bpmn:incoming>Flow_0kyl7mi</bpmn:incoming>
      <bpmn:outgoing>Flow_0mvvsq2</bpmn:outgoing>
      <bpmn:timerEventDefinition id="TimerEventDefinition_0bz05im">
        <bpmn:timeDate xsi:type="bpmn:tFormalExpression">${delayUntil}</bpmn:timeDate>
      </bpmn:timerEventDefinition>
    </bpmn:intermediateCatchEvent>
    <bpmn:subProcess id="warnSubProcess" triggeredByEvent="true">
      <bpmn:startEvent id="warnProcess" name="Warn Process&#10;" isInterrupting="false">
        <bpmn:outgoing>Flow_01hvz9a</bpmn:outgoing>
        <bpmn:messageEventDefinition id="MessageEventDefinition_0mmeb56" messageRef="Message_0dksf5o" />
      </bpmn:startEvent>
      <bpmn:endEvent id="Event_1uwxvxt" name="Warned Process&#10;&#10;">
        <bpmn:incoming>Flow_0bvdeuv</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_01hvz9a" sourceRef="warnProcess" targetRef="handleWarning" />
      <bpmn:sequenceFlow id="Flow_0bvdeuv" sourceRef="handleWarning" targetRef="Event_1uwxvxt" />
      <bpmn:serviceTask id="handleWarning" name="Handle Warning" camunda:type="external" camunda:topic="warning-topic">
        <bpmn:incoming>Flow_01hvz9a</bpmn:incoming>
        <bpmn:outgoing>Flow_0bvdeuv</bpmn:outgoing>
      </bpmn:serviceTask>
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_0yizcd8" name="already handled">
      <bpmn:incoming>Flow_07b6gpv</bpmn:incoming>
      <bpmn:terminateEventDefinition id="TerminateEventDefinition_1o8ggaa" />
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_0fhinov" name="isDuplicate?">
      <bpmn:incoming>Flow_0guz8v6</bpmn:incoming>
      <bpmn:outgoing>Flow_07b6gpv</bpmn:outgoing>
      <bpmn:outgoing>Flow_0kyl7mi</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_07b6gpv" name="yes" sourceRef="Gateway_0fhinov" targetRef="Event_0yizcd8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isDuplicate==true}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0kyl7mi" name="no" sourceRef="Gateway_0fhinov" targetRef="processStartTimer">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${isDuplicate==false}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1ex1957" sourceRef="createTaskMessage" targetRef="idempotencyCheck" />
    <bpmn:serviceTask id="idempotencyCheck" name="Idempotency Check" camunda:type="external" camunda:topic="idempotencyCheck">
      <bpmn:incoming>Flow_1ex1957</bpmn:incoming>
      <bpmn:outgoing>Flow_0guz8v6</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0guz8v6" sourceRef="idempotencyCheck" targetRef="Gateway_0fhinov" />
  </bpmn:process>
  <bpmn:message id="Message_1wn1xe7" name="Message_1tqgb06" />
  <bpmn:message id="Message_059jkd9" name="Message_2e8dj6o" />
  <bpmn:message id="Message_15v1c3c" name="Message_0tvklcc" />
  <bpmn:message id="Message_1kti91o" name="Message_3jahboo" />
  <bpmn:message id="Message_10ip1nj" name="Message_1k3lo6g" />
  <bpmn:message id="Message_1chfuh0" name="Message_32m3riq" />
  <bpmn:message id="Message_116brv9" name="Message_0ejfc7c" />
  <bpmn:message id="Message_01j1wf0" name="Message_1lp92gp" />
  <bpmn:message id="Message_09oo3rf" name="Message_3ev7ae9" />
  <bpmn:message id="Message_0wjufdz" name="Message_150cggv" />
  <bpmn:message id="Message_0p3owoe" name="Message_34h7ks7" />
  <bpmn:message id="Message_0us4veh" name="Message_0am77j3" />
  <bpmn:message id="Message_1gnhxls" name="Message_3hfebm6" />
  <bpmn:message id="Message_0z5ffbb" name="Message_0d1a163" />
  <bpmn:message id="Message_0nirg8l" name="Message_34onq2q" />
  <bpmn:message id="Message_1lelsr1" name="Message_3hlgl5b" />
  <bpmn:message id="Message_1dme7oc" name="Message_16ae01r" />
  <bpmn:message id="Message_1aezus4" name="Message_3r1h3he" />
  <bpmn:message id="Message_18jl9gq" name="Message_2vn13rr" />
  <bpmn:message id="Message_08deb9v" name="createTaskMessage" />
  <bpmn:message id="Message_1k0m2ip" name="cancelTasks" />
  <bpmn:escalation id="Escalation_0q8q2uv" name="escalateCancellation" />
  <bpmn:message id="Message_05nfuoz" name="Message_0k619qd" />
  <bpmn:escalation id="Escalation_0sj9fef" name="Escalation_Cancel_Task" escalationCode="cTasks" />
  <bpmn:message id="Message_0dksf5o" name="warnProcess" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="wa-task-initiation-ia-asylum">
      <bpmndi:BPMNEdge id="Flow_1t5gjw4_di" bpmnElement="Flow_1t5gjw4">
        <di:waypoint x="890" y="240" />
        <di:waypoint x="1132" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0mvvsq2_di" bpmnElement="Flow_0mvvsq2">
        <di:waypoint x="698" y="240" />
        <di:waypoint x="790" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ex1957_di" bpmnElement="Flow_1ex1957">
        <di:waypoint x="218" y="240" />
        <di:waypoint x="310" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_000q9nr_di" bpmnElement="Flow_000q9nr">
        <di:waypoint x="840" y="182" />
        <di:waypoint x="840" y="113" />
        <di:waypoint x="1132" y="113" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0guz8v6_di" bpmnElement="Flow_0guz8v6">
        <di:waypoint x="410" y="240" />
        <di:waypoint x="485" y="240" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kyl7mi_di" bpmnElement="Flow_0kyl7mi">
        <di:waypoint x="535" y="240" />
        <di:waypoint x="662" y="240" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="592" y="222" width="13" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07b6gpv_di" bpmnElement="Flow_07b6gpv">
        <di:waypoint x="510" y="265" />
        <di:waypoint x="510" y="342" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="516" y="301" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0836shu_di" bpmnElement="createTaskMessage">
        <dc:Bounds x="182" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="156" y="265" width="90" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0uyx6zr_di" bpmnElement="idempotencyCheck">
        <dc:Bounds x="310" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1h3qguy_di" bpmnElement="processTask">
        <dc:Bounds x="790" y="200" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0spho4n_di" bpmnElement="userTaskTerminated">
        <dc:Bounds x="1132" y="95" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1124" y="138" width="52" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0mqu4ld_di" bpmnElement="userTaskCompleted">
        <dc:Bounds x="1132" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1125" y="265" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1e6ls8v_di" bpmnElement="processStartTimer">
        <dc:Bounds x="662" y="222" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="648" y="265" width="65" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0fhinov_di" bpmnElement="Gateway_0fhinov" isMarkerVisible="true">
        <dc:Bounds x="485" y="215" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="481" y="185" width="60" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1q19i9d_di" bpmnElement="Event_0yizcd8">
        <dc:Bounds x="492" y="342" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="471" y="385" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1xnyxte_di" bpmnElement="warnSubProcess" isExpanded="true">
        <dc:Bounds x="255" y="430" width="365" height="210" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_01hvz9a_di" bpmnElement="Flow_01hvz9a">
        <di:waypoint x="331" y="530" />
        <di:waypoint x="390" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0bvdeuv_di" bpmnElement="Flow_0bvdeuv">
        <di:waypoint x="490" y="530" />
        <di:waypoint x="542" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0a6rtot_di" bpmnElement="warnProcess">
        <dc:Bounds x="295" y="512" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="279" y="555" width="69" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1uwxvxt_di" bpmnElement="Event_1uwxvxt">
        <dc:Bounds x="542" y="512" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="520" y="555" width="81" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_082xw86_di" bpmnElement="handleWarning">
        <dc:Bounds x="390" y="490" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ujt1n5_di" bpmnElement="cancelSubProcess" isExpanded="true">
        <dc:Bounds x="690" y="430" width="365" height="210" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0fy4joa_di" bpmnElement="Flow_0fy4joa">
        <di:waypoint x="818" y="520" />
        <di:waypoint x="942" y="520" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_006cei4_di" bpmnElement="cancelTasks">
        <dc:Bounds x="782" y="502" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="761" y="545" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1rf35yg_di" bpmnElement="cancelledTasksCompleted">
        <dc:Bounds x="942" y="502" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1x0xdl7_di" bpmnElement="Event_0pjf0p1">
        <dc:Bounds x="822" y="182" width="36" height="36" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
